(()=>{"use strict";var e,t;function i(){$(".js-resizable-list").each((function(){let e=$(this).children().length,t=parseInt($(this).css("column-gap")),i=Math.floor(($(this).width()+t+1)/($(this).find(":first-child").width()+t)),s=Math.ceil(e/i)*$(this).find(":first-child").height();$(this).height(s)}))}e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",function(){let e=$("#burger"),t=$("#menu"),i=$("#overlay"),s=$("#fullmenu"),o=$("#nav"),a=$("#searchBtn"),n=$("#search"),l=$("#backBtn");$(document).ready((function(){e.click((function(n){e.toggleClass("active"),window.matchMedia("(max-width: 1199px)").matches?(t.toggleClass("active"),i.toggleClass("active")):(a.hasClass("isOpen")&&(navShow(),a.removeClass("isOpen"),s.removeClass("active")),s.toggleClass("active"),o.toggleClass("active")),$("body").toggleClass("lock")})),a.click((function(){a.toggleClass("isOpen"),e.hasClass("active")?(o.removeClass("active"),e.removeClass("active")):(s.toggleClass("active"),n.toggleClass("active"))})),l.click((function(){n.removeClass("active"),$("body").removeClass("lock")}))}))}(),$(document).ready((function(){let e=$(".select"),t=$(".js-phone"),s=$(".slider-swiper"),o=$(".js-address"),a=$("#pick-up-irs-from"),n=$("#pick-up-irs-to"),l=$("#term-irs-from"),r=$("#fee-irs-from");const c={Москва:{tel:"+7(495)292-18-67",address:"Россия, Москва, 38КМ МКАД, 6бс1"},"Санкт-Петербург":{tel:"+7(780)465-26-92",address:"Россия, Санкт-Петербург, ул. Ленина 31"},Ставрополь:{tel:"+7(865)228-78-50",address:"Россия, Ставрополь, ул. Доваторцев 46в"}};$("#phone").mask("+7 (999) 999-99-99"),$(".top-slider").slick({dots:!0,arrows:!1,infinite:!0,autoplay:!0,autoplaySpeed:1e4,mobileFirst:!0,responsive:[{breakpoint:1919,settings:{arrows:!0}}]});let d=function(e){return+(e.attr("data-slides")??3)};s.each((function(){$(this).slick({arrows:!1,infinite:!1,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,variableWidth:!0,mobileFirst:!0,responsive:[{breakpoint:1199,settings:{arrows:!0,swipeToSlide:!1,slidesToShow:d($(this)),slidesToScroll:d($(this)),variableWidth:!1}}]})})),$(".js-range-slider").ionRangeSlider({type:"double",skin:"round",values:[0,5e5,8e5,11e5,14e5,17e5,2e6,23e5,27e5,3e6],from:0,to:1,grid:!0,grid_num:9,hide_from_to:!0,hide_min_max:!0,onStart:function(e){f(),a.text(g(e.from_value)),n.text(g(e.to_value))},onChange:function(e){a.text(g(e.from_value)),n.text(g(e.to_value))}});let h=$(".fee-input"),u=12e5;function f(){let e;e=$(".irs-grid-text"),e.each((function(){$(this).text(g($(this).text()))}))}function g(e){return isNaN(e)&&(e=e.replace(/\s/g,"")),e>999&e<1e6?e=Math.floor(e/1e3)+"т":(e>=1e6&&(e=(e/1e6).toFixed(2)+"м"),e)}$(".js-range-slider-fee").ionRangeSlider({type:"single",skin:"round",min:0,max:u,from:0,grid:!0,grid_num:6,hide_from_to:!0,hide_min_max:!0,onStart:function(e){f(),r.text(g(e.from))},onChange:function(e){r.text(g(e.from)),h.prop("value",e.from)}}),h.on("input change click focus",(function(){let e=$(this).prop("value");$(this).val($(this).val().replace(/\D/,"")),0!=e?(e<0?e=0:e>u&&(e=u),$(".js-range-slider-fee").data("ionRangeSlider").update({from:e}),r.text(g(e))):$(this).prop("value","")})),$(".js-range-slider-term").ionRangeSlider({type:"single",skin:"round",values:[6,12,24,36,48,60,72,84],from:1,grid:!0,grid_num:8,hide_from_to:!0,hide_min_max:!0,onStart:function(e){l.text(g(e.from_value))},onChange:function(e){l.text(g(e.from_value))}}),e.each((function(){let e,i=$(this),s=i.children(".select__title");s.click((()=>{i.attr("data-state",((e,t)=>""==t?"active":""))})),e=i.find(".select__label"),e.each(((e,a)=>{a.addEventListener("click",(e=>{if(s.text(e.target.textContent),i.hasClass("select-city")){let i=c[e.target.textContent].tel,s=c[e.target.textContent].address;t.each(((e,t)=>t.textContent=i)),o.each(((e,t)=>t.textContent=s)),$.cookie("city",e.target.textContent),$.cookie("tel",i),$.cookie("address",s)}i.attr("data-state","")}))}))})),i(),$.cookie("city")&&($(".select-city").children(".select__title").text($.cookie("city")),t.each(((e,t)=>t.textContent=$.cookie("tel"))),o.each(((e,t)=>t.textContent=$.cookie("address"))))})),$(window).resize((function(){i()}))})();